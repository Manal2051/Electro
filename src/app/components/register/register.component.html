<div class="d-flex justify-content-center align-items-center">
  <div class="my-4 rounded-4 mt-5">
    <div class="container">
      <div class="form-box">
        <form [formGroup]="registerForm" (ngSubmit)="RegisterSubmit()">
          <h1>Register</h1>

          <!-- First Name -->
          <div class="input-box">
            <input
              type="text"
              placeholder="First Name"
              formControlName="firstName"
              id="firstName"
              class="form-control"
              [class.is-invalid]="firstName?.invalid && firstName?.touched"
              [class.is-valid]="firstName?.valid && firstName?.touched"
            />
            @if (registerForm.get('firstName')?.invalid &&
            registerForm.get('firstName')?.touched) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('firstName')?.getError('required')) {
              <span>First name is required</span>
              } @else if (registerForm.get('firstName')?.getError('minlength'))
              {
              <span>First name must be at least 3 characters</span>
              }
            </div>
            }
            <i class="bx bxs-user"></i>
          </div>

          <!-- Last Name -->
          <div class="input-box">
            <input
              type="text"
              placeholder="Last Name"
              formControlName="lastName"
              id="lastName"
              class="form-control"
              [class.is-invalid]="lastName?.invalid && lastName?.touched"
              [class.is-valid]="lastName?.valid && lastName?.touched"
            />
            @if (registerForm.get('lastName')?.invalid &&
            registerForm.get('lastName')?.touched) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('lastName')?.getError('required')) {
              <span>Last name is required</span>
              } @else if (registerForm.get('lastName')?.getError('minlength')) {
              <span>Last name must be at least 3 characters</span>
              }
            </div>
            }
            <i class="bx bxs-user"></i>
          </div>

          <!-- Username -->
          <div class="input-box">
            <input
              type="text"
              placeholder="Username"
              formControlName="userName"
              id="userName"
              class="form-control"
              [class.is-invalid]="userName?.invalid && userName?.touched"
              [class.is-valid]="userName?.valid && userName?.touched"
            />
            @if (registerForm.get('userName')?.invalid &&
            registerForm.get('userName')?.touched) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('userName')?.getError('required')) {
              <span>Username is required</span>
              } @else if (registerForm.get('userName')?.getError('minlength')) {
              <span>Username must be at least 3 characters</span>
              }
            </div>
            }
            <i class="bx bxs-user"></i>
          </div>

          <!-- Email -->
          <div class="input-box">
            <input
              type="email"
              placeholder="Email"
              formControlName="email"
              id="email"
              class="form-control"
              [class.is-invalid]="email?.invalid && email?.touched"
              [class.is-valid]="email?.valid && email?.touched"
            />
            @if (registerForm.get('email')?.invalid &&
            registerForm.get('email')?.touched) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('email')?.getError('required')) {
              <span>Email is required</span>
              }
            </div>
            }
            <i class="bx bxs-envelope"></i>
          </div>

          <!-- Password -->
          <div class="input-box">
            <input
              type="password"
              placeholder="Password"
              formControlName="password"
              id="password"
              class="form-control"
              [class.is-invalid]="password?.invalid && password?.touched"
            />
            @if (registerForm.get('password')?.invalid &&
            registerForm.get('password')?.touched) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('password')?.getError('required')) {
              <span>Password is required</span>
              }
            </div>
            }
            <i class="bx bxs-lock-alt"></i>
          </div>

          <!-- Confirm Password -->
          <div class="input-box">
            <input
              type="password"
              placeholder="Confirm Password"
              formControlName="confirmNewPassword"
              id="confirmNewPassword"
              class="form-control"
              [class.is-invalid]="
                confirmNewPassword?.invalid && confirmNewPassword?.touched
              "
            />
            @if (registerForm.get('confirmNewPassword')?.touched &&
            registerForm.get('confirmNewPassword')?.invalid) {
            <div class="alert alert-danger w-100 mx-auto">
              @if(registerForm.get('confirmNewPassword')?.getError('passwordMismatch'))
              {
              <span>Passwords do not match</span>
              }
            </div>
            }
            <i class="bx bxs-lock"></i>
          </div>

          <!-- Error Message -->
          <div *ngIf="msgErro" class="alert alert-danger w-100 mx-auto">
            {{ msgErro }}
          </div>

          <!-- Submit -->
          <button
            type="submit"
            class="btn"
            [disabled]="isLoding || registerForm.invalid"
          >
            <span
              *ngIf="isLoding"
              class="spinner-border spinner-border-sm"
              role="status"
              aria-hidden="true"
            ></span>
            {{ isLoding ? "Registering..." : "Register" }}
          </button>

          <p>or register with social platforms</p>
          <div class="social-icons">
            <a href="#"><i class="bi bi-google"></i></a>
            <a href="#"><i class="bi bi-facebook"></i></a>
            <a href="#"><i class="bi bi-github"></i></a>
            <a href="#"><i class="bi bi-linkedin"></i></a>
          </div>
        </form>
      </div>

      <div class="toggle-box">
        <div class="toggle-panel toggle-left">
          <h1>Welcome Back!</h1>
          <p>Already have an account?</p>
          <button class="btn register-btn" (click)="goToLogin()">Login</button>
        </div>
      </div>
    </div>
  </div>
</div>
